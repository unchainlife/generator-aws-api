provider "aws" {
  region            = "<%=region%>"
  assume_role {
    count = var.account == "" ? 0 : 1
    role_arn = "arn:aws:iam::${var.assume_account}:role/${var.assume_role}"
  }
}

terraform {
  backend "s3" {
    encrypt               = false
    region                = "<%=region%>"
    bucket                = "foo-tf"
    dynamodb_table        = "terraform-lock"
    key                   = "terraform-state"
    workspace_key_prefix  = "<%=project%>"
  }
}
